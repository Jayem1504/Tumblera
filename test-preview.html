<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Preview Test - Tumblera</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-gray-50 p-8">
    <div class="max-w-7xl mx-auto">
        <h1 class="text-3xl font-bold mb-8 text-gray-900">Tumbler Preview Size Test</h1>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- Small Preview -->
            <div class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-xl font-semibold mb-4">Small (Cart/Orders)</h2>
                <div class="bg-gray-100 rounded-lg p-4 flex items-center justify-center">
                    <div id="small-preview"></div>
                </div>
                <p class="text-sm text-gray-600 mt-4">Scale: 0.4x (160x200px)</p>
            </div>
            
            <!-- Medium Preview -->
            <div class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-xl font-semibold mb-4">Medium</h2>
                <div class="bg-gray-100 rounded-lg p-4 flex items-center justify-center">
                    <div id="medium-preview"></div>
                </div>
                <p class="text-sm text-gray-600 mt-4">Scale: 0.6x (240x300px)</p>
            </div>
            
            <!-- Large Preview (Original) -->
            <div class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-xl font-semibold mb-4">Large (Customize Page)</h2>
                <div class="bg-gray-100 rounded-lg p-4 flex items-center justify-center">
                    <div id="large-preview"></div>
                </div>
                <p class="text-sm text-gray-600 mt-4">Scale: 1.0x (400x500px)</p>
            </div>
        </div>
        
        <!-- Test Controls -->
        <div class="bg-white p-6 rounded-lg shadow-md mt-8">
            <h2 class="text-xl font-semibold mb-4">Test Design Settings</h2>
            <div class="grid grid-cols-2 gap-4">
                <div>
                    <label class="block text-sm font-medium mb-2">Text</label>
                    <input type="text" id="test-text" value="Hello World" class="w-full px-3 py-2 border rounded">
                </div>
                <div>
                    <label class="block text-sm font-medium mb-2">Font</label>
                    <select id="test-font" class="w-full px-3 py-2 border rounded">
                        <option>Arial</option>
                        <option>Georgia</option>
                        <option>Impact</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium mb-2">Text Color</label>
                    <input type="color" id="test-color" value="#000000" class="w-full h-10 border rounded">
                </div>
                <div>
                    <label class="block text-sm font-medium mb-2">Tumbler Color</label>
                    <select id="test-tumbler" class="w-full px-3 py-2 border rounded">
                        <option value="tumblera-white.png">White</option>
                        <option value="tumblera-black.png">Black</option>
                        <option value="tumblera-blue.png">Blue</option>
                        <option value="tumblera-red.png">Red</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium mb-2">Text Orientation</label>
                    <select id="test-orientation" class="w-full px-3 py-2 border rounded">
                        <option value="horizontal">Horizontal</option>
                        <option value="vertical-upright">Vertical Upright</option>
                        <option value="vertical-rotated">Vertical Rotated</option>
                    </select>
                </div>
            </div>
            <button onclick="updatePreviews()" class="mt-4 px-6 py-2 bg-amber-600 text-white rounded hover:bg-amber-700">
                Update Previews
            </button>
        </div>
    </div>

    <script src="js/preview-helper.js"></script>
    <script>
        // Test design object
        const testDesign = {
            text: 'Hello World',
            font: 'Arial',
            fontSize: 24,
            textColor: '#000000',
            tumblerColor: '#ffffff',
            tumblerImage: 'tumblera-white.png',
            textOrientation: 'horizontal',
            imageData: null,
            imageSize: 48
        };

        function updatePreviews() {
            // Get values from form
            testDesign.text = document.getElementById('test-text').value;
            testDesign.font = document.getElementById('test-font').value;
            testDesign.textColor = document.getElementById('test-color').value;
            testDesign.tumblerImage = document.getElementById('test-tumbler').value;
            testDesign.textOrientation = document.getElementById('test-orientation').value;

            // Generate previews
            document.getElementById('small-preview').innerHTML = generateTumblerPreview(testDesign, 'small');
            document.getElementById('medium-preview').innerHTML = generateTumblerPreview(testDesign, 'medium');
            document.getElementById('large-preview').innerHTML = generateTumblerPreview(testDesign, 'large');
        }

        // Initial render
        updatePreviews();
    </script>
</body>
</html>
